#include <stdio.h>
#include <stdlib.h>
#include <sys/types.h>
#include <fcntl.h>           /* For O_* constants */
#include <sys/stat.h>        /* For mode constants */
#include <unistd.h>
#include <semaphore.h>
#include <sys/mman.h>
#include <sys/wait.h>

// sem1: thiefPlaying waited on by thiefs, signaled by Smaug
// sem2: hunterFighting waited on by hunter, signaled by Smaug
// sem3: smaugSleep waited on by Smaug and signaled by theif/hunter after they are done playing/fighting and about to be terminated



int main()
{
	// Request user to enter winProb, maximumThiefInterval, maximumHunterInterval, 
	int winProb;
	int maximumThiefInterval;
	int maximumHunterInterval;		
	printf("Enter winProb: ");
	scanf("%i", winProb);
	printf("\nEnter maximumThiefInterval: ");
	scanf("%i", maximumThiefInterval);
	printf("\nEnter maximumHunterInterval: ");
	scanf("%i", maximumHunterInterval);
	printf("\n");
		
	// Initializing Smaug
	int smaugId = fork();
	if (smaugId <= 0)
	{
		 perror("Failed to initialize Smaug. Fork return value <= 0. \n");
		 return 0;
	}
	
	// Smaug
	if (getpid() == smaugId)
	{
		smaugRoutine();
		// Kill Smaug process when conditions are met
		smaugId = -1;
		exit(0);
	}
	
	// Keep generating Thiefs and Hunters until Smaug terminates
	while (smaugId > 0)
	{
		
		generateThief();
		generateHunter();
	}
	
	
}

// Function simulating Smaug's behaviour
int smaugRoutine()
{
	return 0;
}

// Function generating a Thief
int generateThief()
{
	return 0;
	if (fork()==0)
	{
		do th
	}
}

// Function simulating Thief's behaviour
int thiefRoutine()
{
}

// Function generating a Hunter
int generateHunter()
{
	return 0;
}

//Function simulating Hunter's behaviour
int hunterRoutine()
{
}